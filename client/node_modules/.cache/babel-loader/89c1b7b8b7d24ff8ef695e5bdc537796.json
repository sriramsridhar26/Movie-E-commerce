{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/admin/Desktop/designwebsite/react-js-app/crudredux/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/admin/Desktop/designwebsite/react-js-app/crudredux/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/admin/Desktop/designwebsite/react-js-app/crudredux/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import axios from\"axios\";import{Link,useNavigate}from'react-router-dom';import\"../App.css\";import Pagination from'../components/Pagination';import Posts from'./Posts';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Books(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),books=_useState2[0],setbooks=_useState2[1];var _useState3=useState(8),_useState4=_slicedToArray(_useState3,2),postsperpage=_useState4[0],setpostsperpage=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),currentpage=_useState6[0],setcurrentpage=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),searchQuery=_useState8[0],setsearchQuery=_useState8[1];function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:3001/books\");case 3:res=_context.sent;setbooks(res.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _fetchData.apply(this,arguments);}var paginate=function paginate(page){setcurrentpage(page);};var indexoflastpost=currentpage*postsperpage;var indexoffirstpost=indexoflastpost-postsperpage;var currentposts=books.slice(indexoffirstpost,indexoflastpost);useEffect(function(){fetchData();});return/*#__PURE__*/_jsxs(\"div\",{className:\"allContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"searchandadd\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"inputSearch\",placeholder:\"Search...\",onChange:function onChange(e){return setsearchQuery(e.target.value);}})}),/*#__PURE__*/_jsx(Posts,{books:currentposts,searchQuery:searchQuery,setsearchQuery:setsearchQuery}),/*#__PURE__*/_jsx(\"div\",{className:\"pagination\",children:/*#__PURE__*/_jsx(Pagination,{postsperpage:postsperpage,totalPosts:books.length,paginate:paginate,currentpage:currentpage})})]});}export default Books;","map":{"version":3,"names":["React","useEffect","useState","axios","Link","useNavigate","Pagination","Posts","Books","books","setbooks","postsperpage","setpostsperpage","currentpage","setcurrentpage","searchQuery","setsearchQuery","fetchData","get","res","data","console","log","paginate","page","indexoflastpost","indexoffirstpost","currentposts","slice","e","target","value","length"],"sources":["C:/Users/admin/Desktop/designwebsite/react-js-app/crudredux/client/src/pages/Books.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport axios from \"axios\"\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport \"../App.css\"\r\n\r\nimport Pagination from '../components/Pagination'\r\nimport Posts from './Posts'\r\n\r\n\r\nfunction Books() {\r\n\r\nconst[books,setbooks]=useState([])\r\n\r\nconst[postsperpage,setpostsperpage]=useState(8)\r\nconst[currentpage,setcurrentpage]=useState(1)\r\n const[searchQuery,setsearchQuery]=useState(\"\")\r\n\r\nasync function fetchData(){\r\ntry{\r\nconst res=await axios.get(\"http://localhost:3001/books\")\r\nsetbooks(res.data)\r\n}catch(err){\r\n    console.log(err)\r\n  }\r\n}\r\n\r\nconst paginate=(page)=>{\r\n  setcurrentpage(page)\r\n}\r\n\r\nconst indexoflastpost= currentpage*postsperpage\r\nconst indexoffirstpost= indexoflastpost- postsperpage\r\nconst currentposts= books.slice(indexoffirstpost,indexoflastpost)\r\n\r\n  useEffect(()=>{\r\n  fetchData()\r\n  })\r\n   return (\r\n    <div className='allContainer'>\r\n       <div className='searchandadd'>\r\n\r\n       \r\n    <input type=\"text\" className='inputSearch' placeholder='Search...' onChange={(e)=>setsearchQuery(e.target.value)} />\r\n</div>\r\n      <Posts books={currentposts} searchQuery={searchQuery} setsearchQuery={setsearchQuery} />\r\n      <div className='pagination'>\r\n\r\n      <Pagination postsperpage={postsperpage} \r\n      totalPosts={books.length}\r\n      paginate={paginate}\r\n      currentpage={currentpage}\r\n      />\r\n      </div>\r\n     \r\n    </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Books"],"mappings":"wdAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,WAAf,KAAkC,kBAAlC,CACA,MAAO,YAAP,CAEA,MAAOC,WAAP,KAAuB,0BAAvB,CACA,MAAOC,MAAP,KAAkB,SAAlB,C,wFAGA,QAASC,MAAT,EAAiB,CAEjB,cAAsBN,QAAQ,CAAC,EAAD,CAA9B,wCAAMO,KAAN,eAAYC,QAAZ,eAEA,eAAoCR,QAAQ,CAAC,CAAD,CAA5C,yCAAMS,YAAN,eAAmBC,eAAnB,eACA,eAAkCV,QAAQ,CAAC,CAAD,CAA1C,yCAAMW,WAAN,eAAkBC,cAAlB,eACC,eAAkCZ,QAAQ,CAAC,EAAD,CAA1C,yCAAMa,WAAN,eAAkBC,cAAlB,eANgB,QAQFC,UARE,uIAQjB,mLAEgBd,MAAK,CAACe,GAAN,CAAU,6BAAV,CAFhB,QAEMC,GAFN,eAGAT,QAAQ,CAACS,GAAG,CAACC,IAAL,CAAR,CAHA,+EAKIC,OAAO,CAACC,GAAR,cALJ,oEARiB,4CAiBjB,GAAMC,SAAQ,CAAC,QAATA,SAAS,CAACC,IAAD,CAAQ,CACrBV,cAAc,CAACU,IAAD,CAAd,CACD,CAFD,CAIA,GAAMC,gBAAe,CAAEZ,WAAW,CAACF,YAAnC,CACA,GAAMe,iBAAgB,CAAED,eAAe,CAAEd,YAAzC,CACA,GAAMgB,aAAY,CAAElB,KAAK,CAACmB,KAAN,CAAYF,gBAAZ,CAA6BD,eAA7B,CAApB,CAEExB,SAAS,CAAC,UAAI,CACdgB,SAAS,GACR,CAFQ,CAAT,CAGC,mBACC,aAAK,SAAS,CAAC,cAAf,wBACG,YAAK,SAAS,CAAC,cAAf,uBAGH,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,aAA7B,CAA2C,WAAW,CAAC,WAAvD,CAAmE,QAAQ,CAAE,kBAACY,CAAD,QAAKb,eAAc,CAACa,CAAC,CAACC,MAAF,CAASC,KAAV,CAAnB,EAA7E,EAHG,EADH,cAME,KAAC,KAAD,EAAO,KAAK,CAAEJ,YAAd,CAA4B,WAAW,CAAEZ,WAAzC,CAAsD,cAAc,CAAEC,cAAtE,EANF,cAOE,YAAK,SAAS,CAAC,YAAf,uBAEA,KAAC,UAAD,EAAY,YAAY,CAAEL,YAA1B,CACA,UAAU,CAAEF,KAAK,CAACuB,MADlB,CAEA,QAAQ,CAAET,QAFV,CAGA,WAAW,CAAEV,WAHb,EAFA,EAPF,GADD,CAoBF,CAED,cAAeL,MAAf"},"metadata":{},"sourceType":"module"}