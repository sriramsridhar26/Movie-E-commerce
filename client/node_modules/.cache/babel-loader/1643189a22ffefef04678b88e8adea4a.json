{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/admin/Desktop/designwebsite/react-js-app/crudredux/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/admin/Desktop/designwebsite/react-js-app/crudredux/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/admin/Desktop/designwebsite/react-js-app/crudredux/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{useParams}from'react-router-dom';import axios from'axios';import{add}from'../redux/cartSlice';import{useNavigate}from'react-router-dom';import{useDispatch}from'react-redux';import\"../App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Book(){var dispatch=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),books=_useState2[0],setbooks=_useState2[1];var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"http://localhost:3001/books/\"+id);case 3:res=_context.sent;setbooks(res.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _fetchData.apply(this,arguments);}useEffect(function(){fetchData();},[]);function addtocart(bookid){dispatch(add(bookid));}function Navigatetohome(){navigate(\"/\");}return/*#__PURE__*/_jsx(\"div\",{className:\"bookContainer\",children:books.map(function(book){return/*#__PURE__*/_jsxs(\"div\",{className:\"bookEach\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bookImg\",children:/*#__PURE__*/_jsx(\"img\",{src:book.image,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bookDetails\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:Navigatetohome,className:\"getback\",children:\"Get back\"}),/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsxs(\"span\",{children:[\" \",/*#__PURE__*/_jsx(\"br\",{})]}),\" \",book.name]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Description:\",/*#__PURE__*/_jsxs(\"span\",{children:[\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \"]}),\" \",book.desc]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"$\",book.price]}),/*#__PURE__*/_jsx(\"button\",{className:\"addtocart\",onClick:function onClick(){return addtocart(book);},children:\"Add to cart\"})]})]},book.id);})});}export default Book;","map":{"version":3,"names":["useState","useEffect","useParams","axios","add","useNavigate","useDispatch","Book","dispatch","books","setbooks","id","navigate","fetchData","get","res","data","console","log","addtocart","bookid","Navigatetohome","map","book","image","name","desc","price"],"sources":["C:/Users/admin/Desktop/designwebsite/react-js-app/crudredux/client/src/pages/Book.js"],"sourcesContent":["import {useState, useEffect} from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport  {add}  from '../redux/cartSlice'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useDispatch } from 'react-redux'\r\nimport \"../App.css\"\r\n\r\nfunction Book() {\r\n\r\nconst dispatch= useDispatch()\r\n    const[books,setbooks]=useState([])\r\n    const { id }= useParams()\r\n    const navigate=useNavigate()\r\n\r\n    async function fetchData(){\r\n    try{\r\n   const res=await axios.get(\"http://localhost:3001/books/\"+id)\r\n   setbooks(res.data)\r\n    }catch(err){\r\n      console.log(err)\r\n    }\r\n  }\r\n  useEffect(()=>{\r\n    fetchData()\r\n    },[])\r\n\r\n    function addtocart(bookid){\r\n      dispatch(add(bookid))\r\n    }\r\n\r\n    function Navigatetohome(){\r\n    navigate(\"/\")\r\n    }\r\n\r\n  return (\r\n    <div className='bookContainer'>\r\n    \r\n\r\n \r\n{books.map((book)=>(\r\n    <div key={book.id} className=\"bookEach\">\r\n    \r\n    <div className='bookImg'>\r\n    <img src={book.image} alt=\"\" /></div>\r\n    <div className='bookDetails'>\r\n    <button onClick={Navigatetohome} className='getback'>Get back</button>\r\n    <h1><span> <br></br></span> {book.name}</h1>\r\n    <h2>Description:<span> <br></br> </span> {book.desc}</h2>\r\n    <h3>${book.price}</h3>\r\n    <button  className='addtocart' onClick={()=>addtocart(book)}>Add to cart</button>\r\n \r\n    </div>\r\n   \r\n\r\n\r\n\r\n\r\n    </div>\r\n))}\r\n    \r\n    \r\n    \r\n  \r\n\r\n</div>\r\n)\r\n  }\r\nexport default Book"],"mappings":"wdAAA,OAAQA,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,GAAT,KAAoB,oBAApB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAO,YAAP,C,wFAEA,QAASC,KAAT,EAAgB,CAEhB,GAAMC,SAAQ,CAAEF,WAAW,EAA3B,CACI,cAAsBN,QAAQ,CAAC,EAAD,CAA9B,wCAAMS,KAAN,eAAYC,QAAZ,eACA,eAAcR,SAAS,EAAvB,CAAQS,EAAR,YAAQA,EAAR,CACA,GAAMC,SAAQ,CAACP,WAAW,EAA1B,CALY,QAOGQ,UAPH,uIAOZ,mLAEeV,MAAK,CAACW,GAAN,CAAU,+BAA+BH,EAAzC,CAFf,QAEKI,GAFL,eAGDL,QAAQ,CAACK,GAAG,CAACC,IAAL,CAAR,CAHC,+EAKEC,OAAO,CAACC,GAAR,cALF,oEAPY,4CAedjB,SAAS,CAAC,UAAI,CACZY,SAAS,GACR,CAFM,CAEL,EAFK,CAAT,CAIE,QAASM,UAAT,CAAmBC,MAAnB,CAA0B,CACxBZ,QAAQ,CAACJ,GAAG,CAACgB,MAAD,CAAJ,CAAR,CACD,CAED,QAASC,eAAT,EAAyB,CACzBT,QAAQ,CAAC,GAAD,CAAR,CACC,CAEH,mBACE,YAAK,SAAS,CAAC,eAAf,UAIHH,KAAK,CAACa,GAAN,CAAU,SAACC,IAAD,qBACP,aAAmB,SAAS,CAAC,UAA7B,wBAEA,YAAK,SAAS,CAAC,SAAf,uBACA,YAAK,GAAG,CAAEA,IAAI,CAACC,KAAf,CAAsB,GAAG,CAAC,EAA1B,EADA,EAFA,cAIA,aAAK,SAAS,CAAC,aAAf,wBACA,eAAQ,OAAO,CAAEH,cAAjB,CAAiC,SAAS,CAAC,SAA3C,sBADA,cAEA,mCAAI,yCAAO,aAAP,GAAJ,KAA6BE,IAAI,CAACE,IAAlC,GAFA,cAGA,kDAAgB,yCAAO,aAAP,OAAhB,KAA0CF,IAAI,CAACG,IAA/C,GAHA,cAIA,0BAAMH,IAAI,CAACI,KAAX,GAJA,cAKA,eAAS,SAAS,CAAC,WAAnB,CAA+B,OAAO,CAAE,yBAAIR,UAAS,CAACI,IAAD,CAAb,EAAxC,yBALA,GAJA,GAAUA,IAAI,CAACZ,EAAf,CADO,EAAV,CAJG,EADF,CAgCC,CACH,cAAeJ,KAAf"},"metadata":{},"sourceType":"module"}